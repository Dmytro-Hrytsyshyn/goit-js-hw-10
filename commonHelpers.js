import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{f as l,i as c}from"./assets/vendor-77e16229.js";class h{constructor({selector:t,targetDate:e}){this.selector=t,this.targetDate=e,this.intervalId=null,this.refs=this.getRefs(),this.init()}getRefs(){const t=document.querySelector(this.selector);return{datetimePicker:t.querySelector("#datetime-picker"),startBtn:t.querySelector("[data-start]"),daysEl:t.querySelector("[data-days]"),hoursEl:t.querySelector("[data-hours]"),minutesEl:t.querySelector("[data-minutes]"),secondsEl:t.querySelector("[data-seconds]")}}init(){this.refs.startBtn.disabled=!0,this.initFlatpickr(),this.refs.startBtn.addEventListener("click",()=>this.startTimer())}initFlatpickr(){l(this.refs.datetimePicker,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:t=>this.handleDateSelection(t)})}handleDateSelection(t){const e=t[0];e<=new Date?(c.error({title:"Error",message:"Please choose a date in the future"}),this.refs.startBtn.disabled=!0):(this.targetDate=e,this.refs.startBtn.disabled=!1)}startTimer(){this.refs.startBtn.disabled=!0,this.refs.datetimePicker.disabled=!0,this.intervalId=setInterval(()=>{const t=this.targetDate-new Date;if(t<=0){clearInterval(this.intervalId),this.updateTimer(0),this.refs.datetimePicker.disabled=!1;return}this.updateTimer(t)},1e3)}updateTimer(t){const{days:e,hours:s,minutes:r,seconds:i}=this.convertMs(t);this.refs.daysEl.textContent=this.addLeadingZero(e),this.refs.hoursEl.textContent=this.addLeadingZero(s),this.refs.minutesEl.textContent=this.addLeadingZero(r),this.refs.secondsEl.textContent=this.addLeadingZero(i)}convertMs(t){const a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),o=Math.floor(t%864e5%36e5/6e4),d=Math.floor(t%864e5%36e5%6e4/1e3);return{days:a,hours:n,minutes:o,seconds:d}}addLeadingZero(t){return String(t).padStart(2,"0")}}new h({selector:"body",targetDate:null});
//# sourceMappingURL=commonHelpers.js.map
